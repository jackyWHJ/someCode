define(["jquery","commonUtils","module/makeup/makeup.min"],function(e,a,i){var n={init:function(e){n.render(e)},template:function(a){var n="",s="",t="",r="";n='<div class="head-people-liked gray-big"><span class="pink" id="praise">'+a.likeNum+'</span><span><img class="'+(0==a.liked?"like":"liked")+'" src="'+(0==a.liked?"../../images/makeup/zhuanjia_heart_icon_normal.png":"../../images/makeup/zhuanjia_heart_icon_pressed.png")+'"></span></div><div class="left-icon"></div><div class="star-wrap"><div><span class="star-name gray-big">'+a.name+'</span><span class="star-qualifications">'+a.position+'</span></div><div class="star-say-decription grayer">'+i.replaceToNewline(a.signature)+"</div></div>",s='<span class="gray">服务人数</span><span id="service-number-people" class="pink">'+a.serviceTimes+"</span>人",t='<div><span class=" gray nationality-country">国籍</span><span class="nationality-name gray-big">'+a.nation+'<img src="'+a.nationImg+'"></span></div><div class="experience"><span class="gray">从业经验</span><p class="gray-big">'+i.replaceToNewline(a.experience)+"</p></div>",e.map(a.attachments,function(e){r+='<div class="qualification"><span class="gray">'+e.title+'</span><p class="gray-big">'+i.replaceToNewline(e.content)+"</p></div>"}),e(".head-img").css("background-image","url("+a.img+")").append(n),e(".service-number").append(s),e(".nationality").append(t+r),e("#phone-num").text(a.beautyPhoneFormat)},render:function(s){a.request({url:apiConfig.newApi+"semipermanent/artificer-info.html",data:{artificerId:s},successCallback:function(a){n.template(a.response),n.event(),i.makeUpCenter(),i.call(),i.title(),setTimeout(function(){e("#content").show()},300)}})},event:function(){e(".like").on("click",function(){a.checkLogin()&&a.request({url:apiConfig.newApi+"user/like-semipermanent-artificer.html",data:{artificerId:a.getQueryString("artificerId")},successCallback:function(){e(".like").attr("src","../../images/makeup/zhuanjia_heart_icon_pressed.png").unbind("click").removeClass("like").addClass("liked"),e("#praise").text(parseInt(e("#praise").text())+1)}})}),e("#toTop").on("click",function(){return e("body,html").animate({scrollTop:0},200,function(){e("#toTop").hide()}),!1}),e(document).scroll(function(){e(window).scrollTop()>200?e("#toTop").show():e("#toTop").hide()})}};return{init:n.init}});