define(["jquery","commonUtils","swiper","module/makeup/makeup.min"],function(e,i,n,t){var o={init:function(e){o.render(e)},template:function(i){document.title=i.name,e(".header .title").text(i.name),e(".introduction h3 span").text(i.name),e(".head-people-liked .pink").text(i.bookingNum+"人"),e(".introduction h3 i").text(i.position),e("#choumei-price").text(i.price),e("#choumei-price-origin span").text(i.priceOri),e("#description").html(t.replaceToNewline(i.desc));try{e(".needle-shop").attr({"data-bannerId":i.banner.bannerId}).append('<img src="'+i.banner.img+'">')}catch(n){}var r="";e.map(i.imgs,function(e){r+='<div class="swiper-slide" style="background-image:url('+e+')"></div>'}),e("#swiper-container .swiper-wrapper").append(r),setTimeout(function(){o.swiper()},500);var a="";e.map(i.notices,function(e){a+='<div class="grid-block-item"><div class="title">'+e.title+'：</div><div class="title-description">'+t.replaceToNewline(e.content)+"</div></div>"}),e(".appointment").append(a),e("#phone-num").text(i.beautyPhoneFormat),e("#choumei-call-price").text(i.bookingPrice)},swiper:function(){var i=new n("#swiper-container",{pagination:".swiper-pagination",onInit:function(){t.imgResize({imgdiv:e("#swiper-container"),imgwidth:e(window).width(),biliw:375,bilih:200})}});return i},render:function(n){i.request({url:apiConfig.newApi+"beauty/item-info.html",data:{itemId:n},successCallback:function(n){n.response&&o.template(n.response),o.event(),t.call(),t.title(),t.appointment(),i.addMenu(),t.map(),t.share(n.response.share),setTimeout(function(){e("#content").show()},300)}})},event:function(){e(".expert").on("click",function(){location="expert.html"}),e(".product-details").on("click",function(){location="introduction.html?itemId="+i.getQueryString("itemId")}),e(".learn-makeup-center").on("click",function(){location="mCenter.html"})}};return{init:o.init}});